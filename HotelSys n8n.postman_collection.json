{
	"info": {
		"_postman_id": "4d8c15ce-497b-4ad0-a883-b9280731f4e3",
		"name": "HotelSys n8n",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "47638893",
		"_collection_link": "https://jeffreyrsb2-8620716.postman.co/workspace/Jeffrey-Smith's-Workspace~38c95cf4-f5d6-4911-828b-9d3f55c05642/collection/47638893-4d8c15ce-497b-4ad0-a883-b9280731f4e3?action=share&source=collection_link&creator=47638893"
	},
	"item": [
		{
			"name": "Autenticación",
			"item": [
				{
					"name": "Auth - Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Extrae el token del cuerpo de la respuesta JSON\r",
									"const responseData = pm.response.json();\r",
									"const token = responseData.token;\r",
									"\r",
									"// Guarda el token en la variable 'authToken' de nuestro entorno\r",
									"if (token) {\r",
									"    pm.environment.set(\"authToken2\", token);\r",
									"    console.log(\"Token guardado exitosamente.\");\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"admin@hotel.com\",\r\n  \"password\": \"admin\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/auth/login",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Clientes",
			"item": [
				{
					"name": "Listar Clientes Activos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/clientes",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"clientes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Cliente por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/clientes/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"clientes",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear Cliente",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nombreCompleto\": \"Nueva Empresa de Prueba S.A.C.\",\r\n  \"numeroDocumento\": \"20112233445\",\r\n  \"email\": \"contacto@prueba.com\",\r\n  \"telefono\": \"015551234\",\r\n  \"tipoDocumentoId\": 2\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/clientes",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"clientes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar Cliente",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nombreCompleto\": \"Juan Alberto Pérez Gonzales\",\r\n  \"numeroDocumento\": \"71234567\",\r\n  \"email\": \"juan.perez.actualizado@email.com\",\r\n  \"telefono\": \"987654321\",\r\n  \"tipoDocumentoId\": 1\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/clientes/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"clientes",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Desactivar Cliente",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/clientes/desactivar/3",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"clientes",
								"desactivar",
								"3"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Habitaciones",
			"item": [
				{
					"name": "Listar Habitaciones Activas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/habitaciones",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"habitaciones"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Habitación por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/habitaciones/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"habitaciones",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear Habitación",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"numero\": \"501\",\r\n  \"requiereLimpieza\": false,\r\n  \"tipoHabitacionId\": 4,\r\n  \"estadoHabitacionId\": 1\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/habitaciones",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"habitaciones"
							]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar Habitación",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"numero\": \"101-A\",\r\n  \"requiereLimpieza\": true,\r\n  \"tipoHabitacionId\": 1,\r\n  \"estadoHabitacionId\": 3\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/habitaciones/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"habitaciones",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Desactivar Habitación",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/habitaciones/desactivar/2",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"habitaciones",
								"desactivar",
								"2"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Productos",
			"item": [
				{
					"name": "Listar Productos Activos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/productos",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"productos"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Producto por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/productos/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"productos",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear Producto",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nombreProducto\": \"Tour Guiado a la Ciudad\",\r\n  \"precio\": 150.00,\r\n  \"stock\": 20\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/productos",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"productos"
							]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar Producto",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nombreProducto\": \"Leña Premium para Fogata (Ecológica)\",\r\n  \"precio\": 35.00,\r\n  \"stock\": 95\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/productos/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"productos",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Desactivar Producto",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/productos/desactivar/2",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"productos",
								"desactivar",
								"2"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Reservas",
			"item": [
				{
					"name": "Listar Reservas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/reservas",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"reservas"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Reserva por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/reservas/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"reservas",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear Reserva",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"clienteId\": 1,\r\n  \"fechaCheckIn\": \"2025-09-15\",\r\n  \"fechaCheckOut\": \"2025-09-17\",\r\n  \"descuento\": 50.00,\r\n  \"estadoReservaId\": 2,\r\n  \"habitacionIds\": [1, 7],\r\n  \"productos\": [\r\n    { \"productoId\": 3, \"cantidad\": 2 }\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/reservas",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"reservas"
							]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar Reserva",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"clienteId\": 1,\r\n  \"fechaCheckIn\": \"2025-09-15\",\r\n  \"fechaCheckOut\": \"2025-09-18\",\r\n  \"descuento\": 20.00,\r\n  \"estadoReservaId\": 2,\r\n  \"habitacionIds\": [3],\r\n  \"productos\": [\r\n    { \"productoId\": 4, \"cantidad\": 5 }\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl2}}/api/reservas/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"reservas",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cancelar Reserva",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/reservas/cancelar/1",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"reservas",
								"cancelar",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Comprobante",
			"item": [
				{
					"name": "Generar un Comprobante",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/comprobantes/generar/2",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"comprobantes",
								"generar",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Listar Comprobantes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/comprobantes",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"comprobantes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Listar Comprobante por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/comprobantes/2",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"comprobantes",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Descargar PDF",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/comprobantes/descargar/1/pdf",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"comprobantes",
								"descargar",
								"1",
								"pdf"
							]
						}
					},
					"response": []
				},
				{
					"name": "Descargar XML",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/comprobantes/descargar/2/xml",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"comprobantes",
								"descargar",
								"2",
								"xml"
							]
						}
					},
					"response": []
				},
				{
					"name": "Borrar Comprobante",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/comprobantes/2",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"comprobantes",
								"2"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "n8n",
			"item": [
				{
					"name": "Obtener cliente por teléfono",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/n8n/cliente/por-telefono/987654321",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"n8n",
								"cliente",
								"por-telefono",
								"987654321"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener cliente por nombre",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				},
				{
					"name": "Consultar disponibilidad",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/n8n/habitaciones/disponibilidad?fechaInicio=2025-12-05&fechaFin=2025-12-10",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"n8n",
								"habitaciones",
								"disponibilidad"
							],
							"query": [
								{
									"key": "fechaInicio",
									"value": "2025-12-05"
								},
								{
									"key": "fechaFin",
									"value": "2025-12-10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener tipos de habitaciones y precios",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/n8n/habitaciones/tipos-precios",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"n8n",
								"habitaciones",
								"tipos-precios"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar reservas por teléfono de cliente",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/n8n/reservas/por-telefono/912345678",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"n8n",
								"reservas",
								"por-telefono",
								"912345678"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar reservas por nombre de cliente",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl2}}/api/n8n/reservas/por-nombre/María López Castillo",
							"host": [
								"{{baseUrl2}}"
							],
							"path": [
								"api",
								"n8n",
								"reservas",
								"por-nombre",
								"María López Castillo"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{authToken2}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	]
}